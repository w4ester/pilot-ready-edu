# backend/requirements.txt â€” conservative pins (generated 2025-09-16 05:12 UTC)
# Python 3.11, FastAPI 0.110.x, SQLAlchemy 2.0.x, Alembic 1.12+

# --- Web framework & ASGI ---
fastapi>=0.110,<0.111
uvicorn[standard]>=0.29,<0.31
starlette>=0.37,<0.38               # compatible with FastAPI 0.110.x
pydantic>=2.7,<2.8
pydantic-settings>=2.3,<2.5
typing-extensions>=4.9,<5.0
python-dotenv>=1.0,<2.0
httpx>=0.26,<0.29
python-multipart>=0.0.9,<0.1

# --- Database & ORM ---
sqlalchemy==2.0.43
alembic>=1.13,<1.17                  # 1.16.5 recommended
psycopg[binary]>=3.1,<3.3            # 3.2.x recommended
pgvector==0.4.1

# --- Auth / Security ---
passlib[bcrypt]>=1.7,<2.0
argon2-cffi>=23,<27
pyjwt[crypto]>=2.7,<3.0
authlib>=1.2,<2.0
python-jose[cryptography]>=3.3,<4.0

# --- Caching / Queue (optional) ---
redis>=5.0,<6.0
celery>=5.3,<6.0

# --- Observability (optional) ---
opentelemetry-api>=1.25,<2.0
opentelemetry-sdk>=1.25,<2.0
opentelemetry-instrumentation-fastapi>=0.45b0
opentelemetry-instrumentation-sqlalchemy>=0.45b0

# --- AI Providers (optional BYOM) ---
openai>=1.3,<2.0
anthropic>=0.36,<1.0
google-generativeai>=0.6,<1.0
tiktoken>=0.6,<0.8

# --- RAG / Documents (optional) ---
pypdf>=4,<6
unstructured>=0.12,<0.17
python-pptx>=1.0,<1.1
openpyxl>=3.1,<3.2
pandas>=2.2,<2.3

# --- Images / Audio (optional) ---
pillow>=10,<12
rapidocr-onnxruntime>=1.3,<2.0

# --- Testing ---
pytest>=7.4,<9.0
pytest-asyncio>=0.23,<0.25
anyio>=4.3,<5.0

# --- Dev tools (optional) ---
black>=24.4,<25.0
ruff>=0.4,<1.0
